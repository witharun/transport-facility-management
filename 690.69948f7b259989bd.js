"use strict";(self.webpackChunktransport_facility=self.webpackChunktransport_facility||[]).push([[690],{690:(f,i,n)=>{n.r(i),n.d(i,{SignupComponent:()=>h});var d=n(177),t=n(341),l=n(537),p=n(159),e=n(438),m=n(472),c=n(46);function g(a,_){if(1&a&&(e.j41(0,"div",13),e.EFF(1),e.k0s()),2&a){const r=e.XpG();e.AVh("success","success"===r.messageType)("error","error"===r.messageType),e.R7$(),e.SpI(" ",r.message," ")}}let h=(()=>{class a{constructor(r,o,s){this.fb=r,this.authService=o,this.router=s,this.message="",this.messageType="error",this.isLoading=!1}ngOnInit(){this.authService.isAuthenticated()?this.router.navigate(["/home"]):this.initializeForm()}initializeForm(){this.signupForm=this.fb.group({employeeId:["",[t.k0.required,t.k0.minLength(3)]],email:["",[t.k0.required,t.k0.email]],password:["",[t.k0.required,t.k0.minLength(6)]],confirmPassword:["",[t.k0.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(r){const o=r.get("password"),s=r.get("confirmPassword");return o&&s&&o.value!==s.value?{passwordMismatch:!0}:null}onSubmit(){if(this.signupForm.valid){this.isLoading=!0,this.message="";const o=this.authService.signup({employeeId:this.signupForm.value.employeeId,email:this.signupForm.value.email,password:this.signupForm.value.password,confirmPassword:this.signupForm.value.confirmPassword});this.message=o.message,this.messageType=o.success?"success":"error",this.isLoading=!1,o.success&&setTimeout(()=>{this.router.navigate(["/home"])},1e3)}else this.markFormGroupTouched(this.signupForm),this.message="Please fill all required fields correctly.",this.messageType="error"}markFormGroupTouched(r){Object.keys(r.controls).forEach(o=>{r.get(o)?.markAsTouched()})}getErrorMessage(r){const o=this.signupForm.get(r);if(o?.hasError("required"))return`${this.getFieldLabel(r)} is required`;if(o?.hasError("email"))return"Please enter a valid email address";if(o?.hasError("minlength")){if("password"===r)return"Password must be at least 6 characters";if("employeeId"===r)return"Employee ID must be at least 3 characters"}return"confirmPassword"===r&&this.signupForm.hasError("passwordMismatch")&&o?.touched?"Passwords do not match":""}getFieldLabel(r){return{employeeId:"Employee ID",email:"Email",password:"Password",confirmPassword:"Confirm Password"}[r]||r}isFieldInvalid(r){const o=this.signupForm.get(r);return!("confirmPassword"!==r||!this.signupForm.hasError("passwordMismatch")||!o?.touched)||!!(o&&o.invalid&&o.touched)}navigateToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(o){return new(o||a)(e.rXU(t.ok),e.rXU(m.u),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-signup"]],standalone:!0,features:[e.aNF],decls:20,vars:15,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-header"],[1,"auth-form",3,"ngSubmit","formGroup"],["formControlName","employeeId","label","Employee ID","type","text","placeholder","Enter your employee ID",3,"required","showError","errorMessage"],["formControlName","email","label","Email","type","email","placeholder","Enter your email",3,"required","showError","errorMessage"],["formControlName","password","label","Password","type","password","placeholder","Enter your password (min. 6 characters)",3,"required","showError","errorMessage"],["formControlName","confirmPassword","label","Confirm Password","type","password","placeholder","Confirm your password",3,"required","showError","errorMessage"],["class","message",3,"success","error",4,"ngIf"],[1,"form-actions"],["label","Sign Up","type","primary",3,"clicked","disabled"],[1,"auth-footer"],[1,"link",3,"click"],[1,"message"]],template:function(o,s){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),e.EFF(4,"Sign Up"),e.k0s(),e.j41(5,"p"),e.EFF(6,"Create your account to get started."),e.k0s()(),e.j41(7,"form",3),e.bIt("ngSubmit",function(){return s.onSubmit()}),e.nrm(8,"app-form-input",4)(9,"app-form-input",5)(10,"app-form-input",6)(11,"app-form-input",7),e.DNE(12,g,2,5,"div",8),e.j41(13,"div",9)(14,"app-button",10),e.bIt("clicked",function(){return s.onSubmit()}),e.k0s()(),e.j41(15,"div",11)(16,"p"),e.EFF(17,"Already have an account? "),e.j41(18,"a",12),e.bIt("click",function(){return s.navigateToLogin()}),e.EFF(19,"Login"),e.k0s()()()()()()),2&o&&(e.R7$(7),e.Y8G("formGroup",s.signupForm),e.R7$(),e.Y8G("required",!0)("showError",s.isFieldInvalid("employeeId"))("errorMessage",s.getErrorMessage("employeeId")),e.R7$(),e.Y8G("required",!0)("showError",s.isFieldInvalid("email"))("errorMessage",s.getErrorMessage("email")),e.R7$(),e.Y8G("required",!0)("showError",s.isFieldInvalid("password"))("errorMessage",s.getErrorMessage("password")),e.R7$(),e.Y8G("required",!0)("showError",s.isFieldInvalid("confirmPassword"))("errorMessage",s.getErrorMessage("confirmPassword")),e.R7$(),e.Y8G("ngIf",s.message),e.R7$(2),e.Y8G("disabled",s.isLoading||s.signupForm.invalid))},dependencies:[d.MD,d.bT,t.X1,t.qT,t.BC,t.cb,t.YS,t.j4,t.JD,l.S,p.Q],styles:[".auth-container[_ngcontent-%COMP%]{min-height:calc(100vh - 200px);display:flex;align-items:center;justify-content:center;padding:40px 20px}.auth-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a;padding:40px;width:100%;max-width:450px}.auth-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;color:#333;margin-bottom:8px}.auth-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px}.auth-form[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:30px;margin-bottom:20px}.message[_ngcontent-%COMP%]{padding:12px;border-radius:6px;margin-bottom:20px;font-size:14px;text-align:center}.message.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.message.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.auth-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px;padding-top:20px;border-top:1px solid #e0e0e0}.auth-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px;margin:0}.link[_ngcontent-%COMP%]{color:#667eea;cursor:pointer;text-decoration:none;font-weight:600;transition:color .3s ease}.link[_ngcontent-%COMP%]:hover{color:#764ba2;text-decoration:underline}@media (max-width: 768px){.auth-card[_ngcontent-%COMP%]{padding:30px 20px}.auth-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px}}"]})}}return a})()}}]);